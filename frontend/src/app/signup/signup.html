<div class="signup-container">
  <div class="signup-card">
    <div class="signup-header">
      <div class="logo-container">
        <div class="sun-icon">â˜€ï¸</div>
        <h1>SunBank</h1>
      </div>
      <h2>Create Your Account</h2>
      <p>Join SunBank for secure and modern banking experience</p>
    </div>

    <form (ngSubmit)="signup()" class="signup-form">
      <div class="form-row">
        <div class="input-group">
          <div class="floating-input">
            <input
              type="text"
              [(ngModel)]="firstName"
              name="firstName"
              id="firstName"
              required
              [class.valid]="firstName.trim().length > 0"
              [class.invalid]="firstName.trim().length === 0 && firstName.length > 0"
            />
            <label for="firstName">First Name</label>
            <div class="input-icon">ğŸ‘¤</div>
          </div>
        </div>

        <div class="input-group">
          <div class="floating-input">
            <input
              type="text"
              [(ngModel)]="lastName"
              name="lastName"
              id="lastName"
              required
              [class.valid]="lastName.trim().length > 0"
              [class.invalid]="lastName.trim().length === 0 && lastName.length > 0"
            />
            <label for="lastName">Last Name</label>
            <div class="input-icon">ğŸ‘¤</div>
          </div>
        </div>
      </div>

      <div class="input-group">
        <div class="floating-input">
          <input
            type="text"
            [(ngModel)]="tc"
            name="tc"
            id="tc"
            required
            maxlength="11"
            [class.valid]="isValidTCKN(tc)"
            [class.invalid]="tc.length === 11 && !isValidTCKN(tc)"
          />
          <label for="tc">TC Identity Number</label>
          <div class="input-icon">ğŸ†”</div>
          <div class="validation-message" *ngIf="tc.length === 11 && !isValidTCKN(tc)">
            Invalid TC Identity Number
          </div>
        </div>
      </div>

      <div class="input-group">
        <div class="floating-input">
          <input
            type="email"
            [(ngModel)]="email"
            (ngModelChange)="onEmailInput()"
            name="email"
            id="email"
            required
            [class.valid]="isValidEmail(email)"
            [class.invalid]="email.length > 0 && !isValidEmail(email)"
          />
          <label for="email">Email Address</label>
          <div class="input-icon">ğŸ“§</div>
          <div class="validation-message" *ngIf="email.length > 0 && !isValidEmail(email)">
            Please enter a valid email address
          </div>
        </div>
      </div>

      <div class="input-group">
        <div class="floating-input">
          <input
            type="tel"
            [(ngModel)]="phoneNumber"
            name="phone"
            id="phone"
            required
            maxlength="11"
            [class.valid]="isValidPhoneNumber(phoneNumber)"
            [class.invalid]="phoneNumber.length === 11 && !isValidPhoneNumber(phoneNumber)"
          />
          <label for="phone">Phone Number</label>
          <div class="input-icon">ğŸ“±</div>
          <div class="validation-message" *ngIf="phoneNumber.length === 11 && !isValidPhoneNumber(phoneNumber)">
            Phone number must start with 05 and be 11 digits
          </div>
        </div>
      </div>

      <div class="input-group">
        <div class="floating-input">
          <input
            [type]="showPassword ? 'text' : 'password'"
            [(ngModel)]="password"
            (ngModelChange)="onPasswordInput()"
            name="password"
            id="password"
            required
            [class.valid]="isPasswordValid()"
            [class.invalid]="password.length > 0 && !isPasswordValid()"
          />
          <label for="password">Password</label>
          <div class="input-icon">ğŸ”’</div>
          <button type="button" class="toggle-password" (click)="showPassword = !showPassword">
            {{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
          </button>
        </div>
        
        <div class="password-strength" *ngIf="password.length > 0">
          <div class="strength-bar">
            <div class="strength-fill" [style.width.%]="getPasswordStrength()"></div>
          </div>
          <div class="password-rules">
            <div class="rule-item" [class.valid]="passwordRules.length">
              <span class="rule-icon">{{ passwordRules.length ? 'âœ…' : 'â­•' }}</span>
              At least 8 characters
            </div>
            <div class="rule-item" [class.valid]="passwordRules.uppercase">
              <span class="rule-icon">{{ passwordRules.uppercase ? 'âœ…' : 'â­•' }}</span>
              One uppercase letter
            </div>
            <div class="rule-item" [class.valid]="passwordRules.lowercase">
              <span class="rule-icon">{{ passwordRules.lowercase ? 'âœ…' : 'â­•' }}</span>
              One lowercase letter
            </div>
            <div class="rule-item" [class.valid]="passwordRules.number">
              <span class="rule-icon">{{ passwordRules.number ? 'âœ…' : 'â­•' }}</span>
              One number
            </div>
          </div>
        </div>
      </div>

      <div class="input-group">
        <div class="floating-input">
          <input
            type="password"
            [(ngModel)]="confirmPassword"
            name="confirmPassword"
            id="confirmPassword"
            required
            [class.valid]="password === confirmPassword && confirmPassword.length > 0"
            [class.invalid]="confirmPassword.length > 0 && password !== confirmPassword"
          />
          <label for="confirmPassword">Confirm Password</label>
          <div class="input-icon">ğŸ”’</div>
          <div class="validation-message" *ngIf="confirmPassword.length > 0 && password !== confirmPassword">
            Passwords do not match
          </div>
        </div>
      </div>

      <button type="submit" class="signup-button" [disabled]="!isFormValid()">
        <span class="button-text">Create Account</span>
        <span class="button-icon">â†’</span>
      </button>
    </form>

    <div class="login-link">
      Already have an account?<a routerLink="/login"> Login</a>
    </div>
  </div>
</div>
