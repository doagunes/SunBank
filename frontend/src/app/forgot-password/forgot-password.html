<div class="forgot-container">
  <div class="forgot-card">
    <div class="forgot-header">
      <div class="logo-container">
        <div class="sun-icon">â˜€ï¸</div>
        <h1>SunBank</h1>
      </div>
      <h2>Reset Your Password</h2>
      <p>Enter your details to receive a password reset link</p>
    </div>

    <form (ngSubmit)="submitRequest()" class="forgot-form" *ngIf="!emailSent">
      <div class="input-group">
        <div class="floating-input">
          <input
            type="text"
            [(ngModel)]="tc"
            name="tc"
            id="tc"
            required
            maxlength="11"
            [class.valid]="tc.length === 11"
            [class.invalid]="tc.length > 0 && tc.length !== 11"
          />
          <label for="tc">TC Identity Number</label>
          <div class="input-icon">ğŸ†”</div>
          <div class="validation-message" *ngIf="tc.length > 0 && tc.length !== 11">
            TC Identity Number must be 11 digits
          </div>
        </div>
      </div>

      <div class="input-group">
        <div class="floating-input">
          <input
            type="email"
            [(ngModel)]="email"
            name="email"
            id="email"
            required
            [class.valid]="isValidEmail(email)"
            [class.invalid]="email.length > 0 && !isValidEmail(email)"
          />
          <label for="email">Email Address</label>
          <div class="input-icon">ğŸ“§</div>
          <div class="validation-message" *ngIf="email.length > 0 && !isValidEmail(email)">
            Please enter a valid email address
          </div>
        </div>
      </div>

      <button type="submit" class="reset-button" [disabled]="!isFormValid()">
        <span class="button-text">Send Reset Link</span>
        <span class="button-icon">â†’</span>
      </button>
    </form>

    <div class="success-container" *ngIf="emailSent">
      <div class="success-icon">âœ…</div>
      <h3>Check Your Email</h3>
      <p>If the information matches, a reset link has been sent to your email address.</p>
      <p class="note">Please check your spam folder if you don't see the email in your inbox.</p>
    </div>

    <div class="back-link">
      <a routerLink="/login">â† Back to Login</a>
    </div>
  </div>
</div>
